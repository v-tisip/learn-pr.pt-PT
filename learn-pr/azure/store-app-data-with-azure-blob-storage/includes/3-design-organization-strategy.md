<span data-ttu-id="fa030-101">Ao criar uma aplicação que precisa de armazenar dados, é importante pensar sobre como a aplicação vai organizar e armazenar os dados em contas de armazenamento, contentores e blobs.</span><span class="sxs-lookup"><span data-stu-id="fa030-101">When designing an app that needs to store data, it's important to think about how the app is going to organize and store data across storage accounts, containers, and blobs.</span></span>

## <a name="storage-accounts"></a><span data-ttu-id="fa030-102">Contas de armazenamento</span><span class="sxs-lookup"><span data-stu-id="fa030-102">Storage accounts</span></span>

<span data-ttu-id="fa030-103">Uma conta de armazenamento única é flexível o suficiente para organizar os blobs à sua maneira, mas deve utilizar contas de armazenamento adicionais conforme preciso para separar os custos logicamente e controlar o acesso aos dados.</span><span class="sxs-lookup"><span data-stu-id="fa030-103">A single storage account is flexible enough to organize your blobs however you like, but you should use additional storage accounts as necessary to logically separate costs and control access to data.</span></span>

## <a name="containers-and-blobs"></a><span data-ttu-id="fa030-104">Contentores e blobs</span><span class="sxs-lookup"><span data-stu-id="fa030-104">Containers and blobs</span></span>

<span data-ttu-id="fa030-105">A natureza da sua aplicação e os dados armazenados devem orientar a sua estratégia de nomenclatura e organização dos contentores e dos blobs.</span><span class="sxs-lookup"><span data-stu-id="fa030-105">The nature of your application and the data that it stores should drive your strategy for naming and organizing containers and blobs.</span></span>

<span data-ttu-id="fa030-106">As aplicações que utilizam blobs como parte de um esquema de armazenamento que inclui uma base de dados, muitas vezes, não precisam de depender intensivamente da organização, da nomenclatura ou dos metadados para indicarem qualquer coisa sobre os seus dados.</span><span class="sxs-lookup"><span data-stu-id="fa030-106">Apps using blobs as part of a storage scheme that includes a database often don't need to rely heavily on organization, naming, or metadata to indicate anything about their data.</span></span> <span data-ttu-id="fa030-107">Essas aplicações normalmente utilizam identificadores, como GUIDs como nomes de blobs, e referenciam estes identificadores nos registos da base de dados.</span><span class="sxs-lookup"><span data-stu-id="fa030-107">Such apps commonly use identifiers like GUIDs as blob names and reference these identifiers in database records.</span></span> <span data-ttu-id="fa030-108">A aplicação irá utilizar a base de dados para determinar onde os blobs são armazenados e o tipo de dados que contêm.</span><span class="sxs-lookup"><span data-stu-id="fa030-108">The app will use the database to determine where blobs are stored and the kind of data they contain.</span></span>

<span data-ttu-id="fa030-109">Outras aplicações podem utilizar o armazenamento de Blobs do Azure mais como um sistema de ficheiros pessoais, onde os nomes de contentores e de blobs servem para indicar o significado e a estrutura.</span><span class="sxs-lookup"><span data-stu-id="fa030-109">Other apps may use Azure Blob storage more like a personal file system, where container and blob names are used to indicate meaning and structure.</span></span> <span data-ttu-id="fa030-110">Os nomes de blobs nestes tipos de aplicações irão parecer, muitas vezes, nomes de ficheiros tradicionais e incluir extensões de nome de ficheiro, como `.jpg` para indicar que tipo de dados contêm.</span><span class="sxs-lookup"><span data-stu-id="fa030-110">Blob names in these kinds of apps will often look like traditional file names and include file name extensions like `.jpg` to indicate what kind of data they contain.</span></span> <span data-ttu-id="fa030-111">Eles irão utilizar diretórios virtuais (ver abaixo) para organizar os blobs e irão utilizar frequentemente etiquetas de metadados para armazenar informações sobre contentores e blobs.</span><span class="sxs-lookup"><span data-stu-id="fa030-111">They'll use virtual directories (see below) to organize blobs and will frequently use metadata tags to store information about blobs and containers.</span></span>

<span data-ttu-id="fa030-112">Existem alguns aspetos importantes a ter em consideração ao decidir como organizar e armazenar blobs e contentores.</span><span class="sxs-lookup"><span data-stu-id="fa030-112">There are a few key things to consider when deciding how to organize and store blobs and containers.</span></span>

### <a name="naming-limitations"></a><span data-ttu-id="fa030-113">Limitações de nomenclatura</span><span class="sxs-lookup"><span data-stu-id="fa030-113">Naming limitations</span></span>

<span data-ttu-id="fa030-114">Os nomes de contentor e blob têm de estar em conformidade com um conjunto de regras, incluindo as limitações de comprimento e as restrições de carateres.</span><span class="sxs-lookup"><span data-stu-id="fa030-114">Container and blob names must conform to a set of rules, including length limitations and character restrictions.</span></span> <span data-ttu-id="fa030-115">Veja a secção Recursos Adicionais no final deste módulo para obter informações mais específicas sobre regras de nomenclatura.</span><span class="sxs-lookup"><span data-stu-id="fa030-115">See the Additional Resources section at the end of this module for more specific information about naming rules.</span></span>

### <a name="public-access-and-containers-as-security-boundaries"></a><span data-ttu-id="fa030-116">Acesso público e contentores como limites de segurança</span><span class="sxs-lookup"><span data-stu-id="fa030-116">Public access and containers as security boundaries</span></span>

<span data-ttu-id="fa030-117">Por predefinição, todos os blobs exigem autenticação para aceder.</span><span class="sxs-lookup"><span data-stu-id="fa030-117">By default, all blobs require authentication to access.</span></span> <span data-ttu-id="fa030-118">No entanto, os contentores individuais podem ser configurados para permitir a transferência pública dos respetivos blobs sem autenticação.</span><span class="sxs-lookup"><span data-stu-id="fa030-118">However, individual containers can be configured to allow public downloading of their blobs without authentication.</span></span> <span data-ttu-id="fa030-119">Esta funcionalidade suporta muitos casos de utilização, como o alojamento ativo de site estático e a partilha de ficheiros.</span><span class="sxs-lookup"><span data-stu-id="fa030-119">This feature supports many use cases, such as hosting static website assets and sharing files.</span></span> <span data-ttu-id="fa030-120">Isto acontece porque a transferência de conteúdos de blob funciona da mesma forma como ler qualquer outro tipo de dados na Web: basta apontar um navegador ou qualquer coisa que possa fazer um pedido GET no URL do blob.</span><span class="sxs-lookup"><span data-stu-id="fa030-120">This is because downloading blob contents works the same way as reading any other kind of data over the web: you just point a browser or anything that can make a GET request at the blob URL.</span></span>

<span data-ttu-id="fa030-121">**Imagem de contentor público da lista de tarefas que mostra o URL de acesso direto**</span><span class="sxs-lookup"><span data-stu-id="fa030-121">**TODO public container image, showing direct access URL**</span></span>

<span data-ttu-id="fa030-122">Ativar o acesso público é importante para a escalabilidade porque os dados transferidos diretamente do armazenamento de Blobs não geram qualquer tráfego na sua aplicação do lado do servidor.</span><span class="sxs-lookup"><span data-stu-id="fa030-122">Enabling public access is important for scalability because data downloaded directly from Blob storage doesn't generate any traffic in your server-side app.</span></span> <span data-ttu-id="fa030-123">Mesmo que não tire partido imediatamente do acesso público ou se utilizar uma base de dados para controlar o acesso dos dados através da sua aplicação, utilize contentores separados para os dados que pretende disponibilizar publicamente.</span><span class="sxs-lookup"><span data-stu-id="fa030-123">Even if you don't immediately take advantage of public access or if you will use a database to control data access via your application, plan on using separate containers for data you want to be publicly available.</span></span>

> [!CAUTION]
> <span data-ttu-id="fa030-124">Os blobs num contentor configurado para acesso público podem ser transferidos sem qualquer tipo de autenticação ou auditoria por qualquer pessoa que conheça os seus URLs de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="fa030-124">Blobs in a container configured for public access can be downloaded without any kind of authentication or auditing by anyone who knows their storage URLs.</span></span> <span data-ttu-id="fa030-125">Nunca coloque dados de blobs num contentor público que não pretenda partilhar publicamente.</span><span class="sxs-lookup"><span data-stu-id="fa030-125">Never put blob data in a public container that you don't intend to share publicly.</span></span>

<span data-ttu-id="fa030-126">Além do acesso público, o Azure tem uma funcionalidade de assinatura de acesso partilhado que permite o controlo refinado de permissões em contentores.</span><span class="sxs-lookup"><span data-stu-id="fa030-126">In addition to public access, Azure has a shared access signature feature that allows fine-grained permissions control on containers.</span></span> <span data-ttu-id="fa030-127">O controlo de acesso de precisão permite cenários que melhoram ainda mais a escalabilidade, por isso pensar em contentores como limites de segurança em geral é uma diretriz útil.</span><span class="sxs-lookup"><span data-stu-id="fa030-127">Precision access control enables scenarios that further improve scalability, so thinking about containers as security boundaries in general is a helpful guideline.</span></span>

### <a name="blob-name-prefixes-virtual-directories"></a><span data-ttu-id="fa030-128">Prefixos de nome de blob (diretórios virtuais)</span><span class="sxs-lookup"><span data-stu-id="fa030-128">Blob name prefixes (virtual directories)</span></span>

<span data-ttu-id="fa030-129">Tecnicamente, os contentores são "simples" e não suportam qualquer tipo de aninhamento ou hierarquia.</span><span class="sxs-lookup"><span data-stu-id="fa030-129">Technically, containers are "flat" and do not support any kind of nesting or hierarchy.</span></span> <span data-ttu-id="fa030-130">Mas se der nomes hierárquicos aos seus blobs que se pareçam com caminhos de ficheiro (por exemplo, `finance/budgets/2017/q1.xls`), a operação de listagem da API pode filtrar os resultados para prefixos específicos.</span><span class="sxs-lookup"><span data-stu-id="fa030-130">But if you give your blobs hierarchical names that look like file paths (such as `finance/budgets/2017/q1.xls`), the API's listing operation can filter results to specific prefixes.</span></span> <span data-ttu-id="fa030-131">Isto permite-lhe navegar na lista como se fosse um sistema hierárquico de ficheiros e pastas.</span><span class="sxs-lookup"><span data-stu-id="fa030-131">This allows you to navigate the list as if it was a hierarchical system of files and folders.</span></span>

<span data-ttu-id="fa030-132">Esta funcionalidade é frequentemente designada de *diretórios virtuais* porque é utilizada por algumas ferramentas e bibliotecas de cliente para visualizar e navegar em armazenamento de Blobs como se fosse um sistema de ficheiros.</span><span class="sxs-lookup"><span data-stu-id="fa030-132">This feature is often called *virtual directories* because some tools and client libraries use it to visualize and navigate Blob storage as if it was a file system.</span></span> <span data-ttu-id="fa030-133">A navegação de cada pasta aciona uma chamada separada para listar os blobs nessa pasta.</span><span class="sxs-lookup"><span data-stu-id="fa030-133">Each folder navigation triggers a separate call to list the blobs in that folder.</span></span>

<span data-ttu-id="fa030-134">**Imagem da lista de tarefas do explorador de armazenamento e/ou portal com pastas**</span><span class="sxs-lookup"><span data-stu-id="fa030-134">**TODO image of storage explorer and/or portal w/folders**</span></span>

<span data-ttu-id="fa030-135">Utilizar nomes que são como os nomes dos blobs é uma técnica comum para organizar e navegar em dados de blobs complexos.</span><span class="sxs-lookup"><span data-stu-id="fa030-135">Using names that are like file names for blobs is a common technique for organizing and navigating complex blob data.</span></span>

### <a name="blob-types"></a><span data-ttu-id="fa030-136">Tipos de blobs</span><span class="sxs-lookup"><span data-stu-id="fa030-136">Blob types</span></span>

<span data-ttu-id="fa030-137">Existem três tipos diferentes de blobs onde pode armazenar os dados:</span><span class="sxs-lookup"><span data-stu-id="fa030-137">There are three different kinds of blobs you can store data in:</span></span>

- <span data-ttu-id="fa030-138">Os **Blobs de blocos** são compostos por blocos de tamanhos diferentes que podem ser carregados e transferidos de forma independente e em paralelo.</span><span class="sxs-lookup"><span data-stu-id="fa030-138">**Block blobs** are composed of blocks of different sizes that can be uploaded and downloaded independently and in parallel.</span></span> <span data-ttu-id="fa030-139">Escrever para um blob de blocos envolve o carregamento de dados para blocos e consolidá-los nas bibliotecas de cliente &mdash; de blob irá cuidar disto por si.</span><span class="sxs-lookup"><span data-stu-id="fa030-139">Writing to a block blob involves uploading data to blocks and committing them to the blob &mdash; client libraries will handle this for you.</span></span>
- <span data-ttu-id="fa030-140">Os **Blobs de acréscimo** são blobs de blocos especializados que suportam apenas o acréscimo de novos dados (não atualizam ou eliminam dados existentes), mas são muito eficientes a fazê-lo.</span><span class="sxs-lookup"><span data-stu-id="fa030-140">**Append blobs** are specialized block blobs that support only appending new data (not updating or deleting existing data), but they're very efficient at it.</span></span> <span data-ttu-id="fa030-141">Os blobs de acréscimo são ótimos para cenários como armazenar registos ou transmitir dados.</span><span class="sxs-lookup"><span data-stu-id="fa030-141">Append blobs are great for scenarios like storing logs or streaming data.</span></span>
- <span data-ttu-id="fa030-142">Os **Blobs de páginas** foram criados para cenários que envolvem leituras e gravações de acesso aleatório.</span><span class="sxs-lookup"><span data-stu-id="fa030-142">**Page blobs** are designed for scenarios that involve random-access reads and writes.</span></span> <span data-ttu-id="fa030-143">Os blobs de páginas servem para armazenar os ficheiros de disco rígido virtual (VHD) utilizados pelas Máquinas Virtuais do Azure, mas são ótimos para qualquer cenário que envolva o acesso aleatório.</span><span class="sxs-lookup"><span data-stu-id="fa030-143">Page blobs are used to store the virtual hard disk (VHD) files used by Azure Virtual Machines, but they're great for any scenario that involves random access.</span></span>

<span data-ttu-id="fa030-144">Os blobs de blocos são a melhor opção para a maioria dos cenários que não chamam especificamente blobs de acréscimo ou de página.</span><span class="sxs-lookup"><span data-stu-id="fa030-144">Block blobs are the best choice for most scenarios that don't specifically call for append or page blobs.</span></span>