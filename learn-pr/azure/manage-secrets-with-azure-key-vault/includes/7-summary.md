<span data-ttu-id="b4fd0-101">Neste módulo, protegeu a configuração secreta de uma aplicação no Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="b4fd0-101">In this module, you secured an app's secret configuration in Azure Key Vault.</span></span> <span data-ttu-id="b4fd0-102">O nosso código de aplicação faz a autenticação no cofre com a Identidade do Serviço Gerido e carrega automaticamente os segredos do cofre para o sistema de configuração do ASP.NET Core no arranque.</span><span class="sxs-lookup"><span data-stu-id="b4fd0-102">Our app code authenticates to the vault with Managed Service Identity and automatically loads the secrets from the vault into ASP.NET Core's configuration system at startup.</span></span>

## <a name="cleanup"></a><span data-ttu-id="b4fd0-103">Limpeza</span><span class="sxs-lookup"><span data-stu-id="b4fd0-103">Cleanup</span></span>

<span data-ttu-id="b4fd0-104">Para limpar a sua subscrição do Azure, execute o seguinte no Azure Cloud Shell para eliminar o grupo de recursos que contém todos os recursos criados neste módulo.</span><span class="sxs-lookup"><span data-stu-id="b4fd0-104">To clean up your Azure subscription, run the following in the Azure Cloud Shell to delete the resource group containing all the resources we created in this module.</span></span>

```console
az group delete --name keyvault-exercise-group
```

<span data-ttu-id="b4fd0-105">Para limpar o armazenamento do Cloud Shell, elimine o diretório `KeyVaultDemoApp`.</span><span class="sxs-lookup"><span data-stu-id="b4fd0-105">To clean up your Cloud Shell storage, delete the `KeyVaultDemoApp` directory.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b4fd0-106">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="b4fd0-106">Next steps</span></span>

<span data-ttu-id="b4fd0-107">Caso se tratasse de uma aplicação real, o que se seguiria?</span><span class="sxs-lookup"><span data-stu-id="b4fd0-107">If this was a real app, what would come next?</span></span>

* <span data-ttu-id="b4fd0-108">Guarde todos os segredos da sua aplicação nos cofres!</span><span class="sxs-lookup"><span data-stu-id="b4fd0-108">Put all your app secrets in your vaults!</span></span> <span data-ttu-id="b4fd0-109">Já não se justifica tê-los em ficheiros de configuração.</span><span class="sxs-lookup"><span data-stu-id="b4fd0-109">There's no longer any reason to have them in configuration files.</span></span>
* <span data-ttu-id="b4fd0-110">Continue a desenvolver a aplicação.</span><span class="sxs-lookup"><span data-stu-id="b4fd0-110">Continue to develop the application.</span></span> <span data-ttu-id="b4fd0-111">O seu ambiente de produção está totalmente configurado, por isso não precisa de repetir todo o processo de configuração em futuras implementações.</span><span class="sxs-lookup"><span data-stu-id="b4fd0-111">Your production environment is all set up, so for future deployments to it you don't need to repeat all the setup.</span></span>
* <span data-ttu-id="b4fd0-112">Para suportar o desenvolvimento, crie um cofre de ambiente de desenvolvimento que contenha segredos com os mesmos nomes mas com valores diferentes.</span><span class="sxs-lookup"><span data-stu-id="b4fd0-112">To support development, create a development-environment vault that contains secrets with the same names but different values.</span></span> <span data-ttu-id="b4fd0-113">Conceda permissões à equipa de desenvolvimento e configure o nome do cofre no ficheiro de configuração do ambiente de desenvolvimento da aplicação.</span><span class="sxs-lookup"><span data-stu-id="b4fd0-113">Grant permissions to the development team and configure the vault name in the app's development-environment configuration file.</span></span> <span data-ttu-id="b4fd0-114">Quando os programadores executam a aplicação localmente, `AddAzureKeyVault` deteta automaticamente instalações locais do Visual Studio e a CLI do Azure, bem como utiliza as credenciais do Azure configuradas nessas aplicações para iniciar sessão e aceder ao cofre.</span><span class="sxs-lookup"><span data-stu-id="b4fd0-114">When developers run the app locally, `AddAzureKeyVault` will automatically detect local installations of Visual Studio and the Azure CLI and use Azure credentials configured in those applications to sign in and access the vault.</span></span>
* <span data-ttu-id="b4fd0-115">Crie outros ambientes para, por exemplo, testar a aceitação do utilizador.</span><span class="sxs-lookup"><span data-stu-id="b4fd0-115">Create additional environments for purposes like user acceptance testing.</span></span>
* <span data-ttu-id="b4fd0-116">Separe cofres em diferentes subscrições e/ou grupos de recursos para os isolar.</span><span class="sxs-lookup"><span data-stu-id="b4fd0-116">Separate vaults across different subscriptions and/or resource groups to isolate them.</span></span>
* <span data-ttu-id="b4fd0-117">Autorize as pessoas certas a aceder a outros cofres de ambiente.</span><span class="sxs-lookup"><span data-stu-id="b4fd0-117">Grant access to other environment vaults to the appropriate people.</span></span>

## <a name="further-reading"></a><span data-ttu-id="b4fd0-118">Leitura adicional</span><span class="sxs-lookup"><span data-stu-id="b4fd0-118">Further reading</span></span>

* [<span data-ttu-id="b4fd0-119">Documentação do Key Vault</span><span class="sxs-lookup"><span data-stu-id="b4fd0-119">Key Vault documentation</span></span>](https://docs.microsoft.com/azure/key-vault/)
* [<span data-ttu-id="b4fd0-120">Mais informações sobre AddAzureKeyVault e respetivas opções avançadas</span><span class="sxs-lookup"><span data-stu-id="b4fd0-120">More about AddAzureKeyVault and its advanced options</span></span>](https://docs.microsoft.com/aspnet/core/security/key-vault-configuration?view=aspnetcore-2.1&tabs=aspnetcore2x)
* <span data-ttu-id="b4fd0-121">[Este tutorial](https://docs.microsoft.com/azure/key-vault/key-vault-use-from-web-application) explica como utilizar `KeyVaultClient`, incluindo a sua autenticação manual no Azure Active Directory com um segredo do cliente em vez de um MSI.</span><span class="sxs-lookup"><span data-stu-id="b4fd0-121">[This tutorial](https://docs.microsoft.com/azure/key-vault/key-vault-use-from-web-application) walks through using `KeyVaultClient`, including manually authenticating it to Azure Active Directory using a client secret instead of MSI.</span></span>
* <span data-ttu-id="b4fd0-122">[Documentação do serviço de token de MSI](https://docs.microsoft.com/azure/app-service/app-service-managed-service-identity#using-the-rest-protocol) para implementar o fluxo de trabalho de autenticação de forma autónoma</span><span class="sxs-lookup"><span data-stu-id="b4fd0-122">[MSI token service documentation](https://docs.microsoft.com/azure/app-service/app-service-managed-service-identity#using-the-rest-protocol), for implementing the authentication workflow yourself</span></span>