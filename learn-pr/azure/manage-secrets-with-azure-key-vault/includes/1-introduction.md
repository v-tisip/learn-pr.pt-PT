<span data-ttu-id="13993-101">Se quiser saber o que pode correr mal ao gerir os segredos de configuração de uma aplicação, veja a história de Steve, programador sénior.</span><span class="sxs-lookup"><span data-stu-id="13993-101">If you want to understand what can go wrong with managing an application's configuration secrets, look no further than the story of Steve the senior developer.</span></span>

<span data-ttu-id="13993-102">Steve trabalhava há algumas semanas numa empresa de entrega de alimentos para animais de estimação.</span><span class="sxs-lookup"><span data-stu-id="13993-102">Steve had been in his job at a pet food delivery company for a few weeks.</span></span> <span data-ttu-id="13993-103">Estava a ver informações sobre a aplicação Web da empresa, uma aplicação Web .NET Core que utiliza uma base de dados Azure SQL para armazenar informações de encomendas e APIs de terceiros para faturação de cartões de crédito e mapeamento de endereços de clientes, quando colou acidentalmente a cadeia de ligação para a base de dados de encomendas num fórum público.</span><span class="sxs-lookup"><span data-stu-id="13993-103">He was exploring the details of the company's web app &mdash; a .NET Core web application that used an Azure SQL database for storing order information and third-party APIs for credit card billing and mapping customer addresses &mdash; when he accidentally pasted the connection string for the orders database into a public forum.</span></span>

<span data-ttu-id="13993-104">Alguns dias mais tarde, o departamento de contabilidade reparou que a empresa estava a entregar muitos alimentos para animais que ninguém pagava.</span><span class="sxs-lookup"><span data-stu-id="13993-104">Days later, accounting noticed that the company was delivering a lot of pet food that nobody had paid for.</span></span> <span data-ttu-id="13993-105">Alguém utilizou a cadeia de ligação para aceder à base de dados, efetuou engenharia reversa no esquema e fez encomendas sem recurso ao site.</span><span class="sxs-lookup"><span data-stu-id="13993-105">Someone had used the connection string to access the database, reverse-engineered the schema, and placed orders without going through the website.</span></span>

<span data-ttu-id="13993-106">Quando se apercebeu do erro, Steve apressou-se a mudar a palavra-passe da base de dados para expulsar o atacante e quebrou o site.</span><span class="sxs-lookup"><span data-stu-id="13993-106">After realizing his mistake, Steve hurriedly changed the database password to lock out the attacker, breaking the website.</span></span> <span data-ttu-id="13993-107">Iniciou sessão diretamente no servidor da aplicação e mudou a configuração da aplicação em vez de voltar a implementar, mas o servidor continuava a mostrar pedidos falhados.</span><span class="sxs-lookup"><span data-stu-id="13993-107">He logged directly into the application server and changed the app configuration instead of redeploying, but the server was still showing failed requests.</span></span>

<span data-ttu-id="13993-108">Steve esqueceu-se de que havia múltiplas instâncias da aplicação em diferentes servidores e que só tinha alterado a configuração de uma.</span><span class="sxs-lookup"><span data-stu-id="13993-108">Steve had forgotten that multiple instances of the app ran on different servers, and he had only changed the configuration for one.</span></span> <span data-ttu-id="13993-109">Foi necessário voltar a implementar tudo, causando mais 30 minutos de inatividade.</span><span class="sxs-lookup"><span data-stu-id="13993-109">A full redeployment was needed, causing another 30 minutes of downtime.</span></span>

<span data-ttu-id="13993-110">A divulgação de uma cadeia de ligação de base de dados, chave de API ou palavra-passe de serviço pode ser catastrófica.</span><span class="sxs-lookup"><span data-stu-id="13993-110">Leaking a database connection string, API key, or service password can be catastrophic.</span></span> <span data-ttu-id="13993-111">Os dados roubados ou eliminados, os danos financeiros, o tempo de inatividade das aplicações e danos irreparáveis aos ativos empresariais são alguns dos potenciais resultados.</span><span class="sxs-lookup"><span data-stu-id="13993-111">Stolen or deleted data, financial harm, application downtime, and irreparable damage to business assets and reputation are all potential results.</span></span> <span data-ttu-id="13993-112">Infelizmente, é frequente ter de se implementar valores secretos em múltiplos locais e em simultâneo, e alterá-los em alturas inoportunas.</span><span class="sxs-lookup"><span data-stu-id="13993-112">Unfortunately, secret values often need to be deployed in multiple places simultaneously and changed at inopportune times.</span></span> <span data-ttu-id="13993-113">E têm de ser armazenados em *algum* lado!</span><span class="sxs-lookup"><span data-stu-id="13993-113">And you have to store them *somewhere*!</span></span> <span data-ttu-id="13993-114">Vejamos como podemos proteger todos estes dados com o Azure KeyVault.</span><span class="sxs-lookup"><span data-stu-id="13993-114">Let's see how we can make all of this secure with Azure KeyVault.</span></span>

## <a name="learning-objectives"></a><span data-ttu-id="13993-115">Objetivos de Aprendizagem</span><span class="sxs-lookup"><span data-stu-id="13993-115">Learning Objectives</span></span>
> [!div class="checklist"]
> * <span data-ttu-id="13993-116">Entender os tipos de informações que podem ser armazenados no Azure KeyVault</span><span class="sxs-lookup"><span data-stu-id="13993-116">Understand what types of information can be stored in Azure KeyVault</span></span>
> * <span data-ttu-id="13993-117">Criar um arquivo do Azure KeyVault</span><span class="sxs-lookup"><span data-stu-id="13993-117">Create an Azure KeyVault store</span></span>
> * <span data-ttu-id="13993-118">Autenticar com o Azure KeyVault</span><span class="sxs-lookup"><span data-stu-id="13993-118">Authenticate with Azure KeyVault</span></span>
> * <span data-ttu-id="13993-119">Aceder a segredos num Azure KeyVault</span><span class="sxs-lookup"><span data-stu-id="13993-119">Access secrets in an Azure KeyVault</span></span>