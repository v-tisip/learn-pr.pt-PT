<span data-ttu-id="d32d0-101">É comum executar uma parte lógica num intervalo definido.</span><span class="sxs-lookup"><span data-stu-id="d32d0-101">It's common to execute a piece of logic at a set interval.</span></span> <span data-ttu-id="d32d0-102">Imagine que tem um blogue e nota que os seus subscritores não estão a ler as publicações mais recentes.</span><span class="sxs-lookup"><span data-stu-id="d32d0-102">Imagine you're a blog owner and you notice that your subscribers aren't reading your most recent posts.</span></span> <span data-ttu-id="d32d0-103">Decide que a melhor ação é enviar um e-mail uma vez por semana para lembrá-los de irem ao seu blogue.</span><span class="sxs-lookup"><span data-stu-id="d32d0-103">You decide that the best action is to send an email once a week to remind them to check your blog.</span></span> <span data-ttu-id="d32d0-104">Implemente esta lógica com uma função do Azure com um acionador de temporizador para invocar a função semanalmente.</span><span class="sxs-lookup"><span data-stu-id="d32d0-104">You implement this logic using an Azure function with a timer trigger to invoke your function weekly.</span></span>

<span data-ttu-id="d32d0-105">Aqui, irá aprender a criar um acionador de temporizador e instruir o acionador para ser executado num intervalo consistente.</span><span class="sxs-lookup"><span data-stu-id="d32d0-105">Here, you'll learn how to create a timer trigger and instruct the trigger to run at a consistent interval.</span></span>

## <a name="what-is-a-timer-trigger"></a><span data-ttu-id="d32d0-106">O que é um acionador de temporizador?</span><span class="sxs-lookup"><span data-stu-id="d32d0-106">What is a timer trigger?</span></span>

<span data-ttu-id="d32d0-107">Um acionador de temporizador é um acionador que executa uma função num intervalo consistente.</span><span class="sxs-lookup"><span data-stu-id="d32d0-107">A timer trigger is a trigger that executes a function at a consistent interval.</span></span> <span data-ttu-id="d32d0-108">Para criar um acionador de temporizador, terá de conceder dois conjuntos de informações.</span><span class="sxs-lookup"><span data-stu-id="d32d0-108">To create a timer trigger, you need to supply two pieces of information.</span></span> <span data-ttu-id="d32d0-109">O primeiro requisito é um *Nome do parâmetro do carimbo de data/hora*, que é simplesmente um identificador para aceder ao acionador no código.</span><span class="sxs-lookup"><span data-stu-id="d32d0-109">The first requirement is a *Timestamp parameter name*, which is simply an identifier to access the trigger in code.</span></span> <span data-ttu-id="d32d0-110">O segundo requisito é uma *Agenda*, que é uma *expressão CRON* que define o intervalo para o temporizador.</span><span class="sxs-lookup"><span data-stu-id="d32d0-110">The second requirement is a *Schedule*, which is a *CRON expression* that sets the interval for the timer.</span></span>

## <a name="what-is-a-cron-expression"></a><span data-ttu-id="d32d0-111">O que é uma expressão CRON?</span><span class="sxs-lookup"><span data-stu-id="d32d0-111">What is a CRON expression?</span></span>

<span data-ttu-id="d32d0-112">Uma *expressão CRON* é uma cadeia de carateres que consiste em seis campos que representam um conjunto de horas.</span><span class="sxs-lookup"><span data-stu-id="d32d0-112">A *CRON expression* is a string that consists of six fields that represent a set of times.</span></span>

<span data-ttu-id="d32d0-113">A ordem dos seis campos no Azure é: {segundo} {minuto} {hora} {dia} {mês} {dia da semana}.</span><span class="sxs-lookup"><span data-stu-id="d32d0-113">The order of the six fields in Azure is: {second} {minute} {hour} {day} {month} {day of the week}.</span></span>

<span data-ttu-id="d32d0-114">Por exemplo, uma *expressão CRON* para criar um acionador que é executado a cada cinco minutos é semelhante a:</span><span class="sxs-lookup"><span data-stu-id="d32d0-114">For example, a *CRON expression* to create a trigger that executes every five minutes looks like:</span></span>

```
0 */5 * * * *
```

<span data-ttu-id="d32d0-115">Em primeiro lugar, esta cadeia de carateres pode parecer confusa.</span><span class="sxs-lookup"><span data-stu-id="d32d0-115">At first, this string may look confusing.</span></span> <span data-ttu-id="d32d0-116">Vamos voltar atrás e dividir estes conceitos quando tivermos uma análise mais profunda sobre as *expressões CRON*.</span><span class="sxs-lookup"><span data-stu-id="d32d0-116">We'll come back and break down these concepts when we have a deeper look at *CRON expressions*.</span></span>

<span data-ttu-id="d32d0-117">Para criar uma *expressão CRON*, tem de ter um entendimento básico de alguns dos carateres especiais.</span><span class="sxs-lookup"><span data-stu-id="d32d0-117">To build a *CRON expression*, you need to have a basic understanding of some of the special characters.</span></span>

| <span data-ttu-id="d32d0-118">Caráter especial</span><span class="sxs-lookup"><span data-stu-id="d32d0-118">Special character</span></span> | <span data-ttu-id="d32d0-119">Significado</span><span class="sxs-lookup"><span data-stu-id="d32d0-119">Meaning</span></span> | <span data-ttu-id="d32d0-120">Exemplo</span><span class="sxs-lookup"><span data-stu-id="d32d0-120">Example</span></span> |
| ------------- | ------------- | ------------- |
| *      | <span data-ttu-id="d32d0-121">Seleciona todos os valores num campo</span><span class="sxs-lookup"><span data-stu-id="d32d0-121">Selects every value in a field</span></span> | <span data-ttu-id="d32d0-122">Um asterisco "\*" no campo do dia da semana significa *todos os* dias.</span><span class="sxs-lookup"><span data-stu-id="d32d0-122">An asterisk "\*" in the day of the week field means *every* day.</span></span> |
| <span data-ttu-id="d32d0-123">,</span><span class="sxs-lookup"><span data-stu-id="d32d0-123">,</span></span>      | <span data-ttu-id="d32d0-124">Separa os itens numa lista</span><span class="sxs-lookup"><span data-stu-id="d32d0-124">Separates items in a list</span></span> | <span data-ttu-id="d32d0-125">Uma vírgula "1,3" no campo do dia da semana significa apenas Segundas-feiras (dia 1) e Quartas-feiras (dia 3).</span><span class="sxs-lookup"><span data-stu-id="d32d0-125">A comma "1,3" in the day of the week field means just Mondays (day 1) and Wednesdays (day 3).</span></span> |
| -      | <span data-ttu-id="d32d0-126">Especifica um intervalo</span><span class="sxs-lookup"><span data-stu-id="d32d0-126">Specifies a range</span></span> | <span data-ttu-id="d32d0-127">Um hífen "10-12" no campo de hora significa um intervalo que inclui as horas 10, 11 e 12.</span><span class="sxs-lookup"><span data-stu-id="d32d0-127">A hyphen "10-12" in the hour field means a range that includes the hours 10, 11, and 12.</span></span> |
| /      | <span data-ttu-id="d32d0-128">Especifica um incremento</span><span class="sxs-lookup"><span data-stu-id="d32d0-128">Specifies an increment</span></span> | <span data-ttu-id="d32d0-129">Uma barra "\*/10" no campo dos minutos significa um incremento de cada 10 minutos.</span><span class="sxs-lookup"><span data-stu-id="d32d0-129">A slash "\*/10" in the minutes field means an increment of every 10 minutes.</span></span> |

<span data-ttu-id="d32d0-130">Agora iremos voltar para o exemplo de expressão CRON original.</span><span class="sxs-lookup"><span data-stu-id="d32d0-130">Now we'll go back to the original CRON expression example.</span></span> <span data-ttu-id="d32d0-131">Vamos tentar compreender melhor ao segmentar campo por campo.</span><span class="sxs-lookup"><span data-stu-id="d32d0-131">Let’s try to understand it better by breaking it down field by field.</span></span>

```
0 */5 * * * *
```

<span data-ttu-id="d32d0-132">O **primeiro campo** representa segundos.</span><span class="sxs-lookup"><span data-stu-id="d32d0-132">The **first field** represents seconds.</span></span> <span data-ttu-id="d32d0-133">Este campo suporta os valores 0-59.</span><span class="sxs-lookup"><span data-stu-id="d32d0-133">This field supports the values 0-59.</span></span> <span data-ttu-id="d32d0-134">Como o campo contém um zero, seleciona o primeiro valor possível, que é um segundo.</span><span class="sxs-lookup"><span data-stu-id="d32d0-134">Because the field contains a zero, it selects the first possible value, which is one second.</span></span>

<span data-ttu-id="d32d0-135">O **segundo campo** representa minutos.</span><span class="sxs-lookup"><span data-stu-id="d32d0-135">The **second field** represents minutes.</span></span> <span data-ttu-id="d32d0-136">O valor "*/5" contém dois carateres especiais. Primeiro, o asterisco (*) significa "selecione cada valor dentro do campo."</span><span class="sxs-lookup"><span data-stu-id="d32d0-136">The value "*/5" contains two special characters. First, the asterisk (*) means "select every value within the field."</span></span> <span data-ttu-id="d32d0-137">Uma vez que este campo representa minutos, os valores possíveis são 0-59.</span><span class="sxs-lookup"><span data-stu-id="d32d0-137">Because this field represents minutes, the possible values are 0-59.</span></span> <span data-ttu-id="d32d0-138">O segundo caráter especial é a barra (/), que representa um incremento.</span><span class="sxs-lookup"><span data-stu-id="d32d0-138">The second special character is the slash (/), which represents an increment.</span></span> <span data-ttu-id="d32d0-139">Quando combina estes carateres em conjunto, significa que para todos os valores 0-59, selecione cada quinto valor.</span><span class="sxs-lookup"><span data-stu-id="d32d0-139">WHen you combine these characters together, it means for all values 0-59, select every fifth value.</span></span> <span data-ttu-id="d32d0-140">Uma forma mais fácil de dizer que é simplesmente "a cada cinco minutos."</span><span class="sxs-lookup"><span data-stu-id="d32d0-140">An easier way to say that is simply "every five minutes."</span></span>

<span data-ttu-id="d32d0-141">Os **quatro campos restantes** representam a hora, o dia, o mês e o dia da semana.</span><span class="sxs-lookup"><span data-stu-id="d32d0-141">The **remaining four fields** represent the hour, day, month, and weekday of the week.</span></span> <span data-ttu-id="d32d0-142">Um asterisco para estes campos significa para selecionar todos os valores possíveis.</span><span class="sxs-lookup"><span data-stu-id="d32d0-142">An asterisk for these fields means to select every possible value.</span></span> <span data-ttu-id="d32d0-143">Neste exemplo, selecionamos "cada hora de cada dia do mês."</span><span class="sxs-lookup"><span data-stu-id="d32d0-143">In this example, we select "every hour of every day of every month."</span></span>

<span data-ttu-id="d32d0-144">Quando colocar todos os campos em conjunto, a expressão é lida como "no primeiro segundo, de cada quinto minuto de cada hora, de cada dia, de cada mês".</span><span class="sxs-lookup"><span data-stu-id="d32d0-144">When you put all of the fields together, the expression is read as "on the first second, of every fifth minute of every hour, of every day, of every month".</span></span>

## <a name="how-to-create-a-timer-trigger"></a><span data-ttu-id="d32d0-145">Como criar um acionador de temporizador</span><span class="sxs-lookup"><span data-stu-id="d32d0-145">How to create a timer trigger</span></span>

<span data-ttu-id="d32d0-146">Um acionador de temporizador pode ser criado completamente no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="d32d0-146">A timer trigger can be created completely within the Azure portal.</span></span> <span data-ttu-id="d32d0-147">Na sua função do Azure, selecione **acionador de temporizador** na lista de tipos de acionadores predefinidos.</span><span class="sxs-lookup"><span data-stu-id="d32d0-147">In your Azure function, select **timer trigger** from the list of predefined trigger types.</span></span> <span data-ttu-id="d32d0-148">Introduza a lógica que pretende executar.</span><span class="sxs-lookup"><span data-stu-id="d32d0-148">Enter the logic that you want to execute.</span></span> <span data-ttu-id="d32d0-149">Indique um **Nome do parâmetro do carimbo de data/hora** e a **expressão CRON**.</span><span class="sxs-lookup"><span data-stu-id="d32d0-149">Supply a **Timestamp parameter name** and the **CRON expression**.</span></span>

## <a name="summary"></a><span data-ttu-id="d32d0-150">Resumo</span><span class="sxs-lookup"><span data-stu-id="d32d0-150">Summary</span></span>

<span data-ttu-id="d32d0-151">Um acionador de temporizador invoca uma função do Azure com base numa agenda consistente.</span><span class="sxs-lookup"><span data-stu-id="d32d0-151">A timer trigger invokes an Azure function on a consistent schedule.</span></span> <span data-ttu-id="d32d0-152">Para definir a agenda para um acionador de temporizador, criamos uma *expressão CRON*, que é uma cadeia de carateres que representa um conjunto de horas.</span><span class="sxs-lookup"><span data-stu-id="d32d0-152">To define the schedule for a timer trigger, we build a *CRON expression*, which is a string that represents a set of times.</span></span>

