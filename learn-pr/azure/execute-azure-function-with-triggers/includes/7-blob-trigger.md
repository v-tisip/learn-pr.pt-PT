<span data-ttu-id="d5b00-101">Imagine que é um fotógrafo e tem um site em que mostra as suas imagens do dia.</span><span class="sxs-lookup"><span data-stu-id="d5b00-101">Imagine you're a photographer and you have a website where you display your pictures of the day.</span></span> <span data-ttu-id="d5b00-102">Porque está ocupado, não tem uma agenda de carregamento consistente, mas quer notificar os seus fãs quando carrega uma imagem.</span><span class="sxs-lookup"><span data-stu-id="d5b00-102">Because you're busy, you don't have a consistent upload schedule, but you want to notify your fans when you upload a picture.</span></span> <span data-ttu-id="d5b00-103">Decide criar uma função do Azure para enviar automaticamente um tweet sempre que carrega uma imagem para o seu contentor de blobs do Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="d5b00-103">You decide to create an Azure function to automatically send a tweet whenever you upload an image to your Azure Storage blob container.</span></span>

<span data-ttu-id="d5b00-104">Aqui, vai aprender a criar um acionador de blobs e instrui-lo a monitorizar uma determinada localização no seu contentor de blobs do Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="d5b00-104">Here, you learn how to create a blob trigger and instruct it to monitor a specific location in your Azure Storage blob container.</span></span>

## <a name="what-is-azure-storage"></a><span data-ttu-id="d5b00-105">O que é o Storage do Azure?</span><span class="sxs-lookup"><span data-stu-id="d5b00-105">What is Azure Storage?</span></span>

<span data-ttu-id="d5b00-106">O Armazenamento do Azure é a solução de armazenamento na cloud da Microsoft que oferece suporte a todos os tipos de dados, incluindo: blobs, filas e NoSQL.</span><span class="sxs-lookup"><span data-stu-id="d5b00-106">Azure Storage is Microsoft's cloud storage solution that supports all types of data, including: blobs, queues, and NoSQL.</span></span> <span data-ttu-id="d5b00-107">O objetivo do Armazenamento do Azure consiste em fornecer armazenamento de dados que:</span><span class="sxs-lookup"><span data-stu-id="d5b00-107">The goal of Azure Storage is to provide data storage that's:</span></span>

- <span data-ttu-id="d5b00-108">Elevada disponibilidade</span><span class="sxs-lookup"><span data-stu-id="d5b00-108">Highly available</span></span>
- <span data-ttu-id="d5b00-109">Proteger</span><span class="sxs-lookup"><span data-stu-id="d5b00-109">Secure</span></span>
- <span data-ttu-id="d5b00-110">Escalável</span><span class="sxs-lookup"><span data-stu-id="d5b00-110">Scalable</span></span>
- <span data-ttu-id="d5b00-111">Gerido</span><span class="sxs-lookup"><span data-stu-id="d5b00-111">Managed</span></span>

<span data-ttu-id="d5b00-112">Não nos vamos focar muito no Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="d5b00-112">We're not going to focus on Azure Storage too much.</span></span> <span data-ttu-id="d5b00-113">Em vez disso, utilizamos para criar blobs que acionam a execução da nossa função.</span><span class="sxs-lookup"><span data-stu-id="d5b00-113">Instead, we use it to create blobs that will trigger our function to run.</span></span>

## <a name="what-is-azure-blob-storage"></a><span data-ttu-id="d5b00-114">O que é o armazenamento de Blobs do Azure?</span><span class="sxs-lookup"><span data-stu-id="d5b00-114">What is Azure Blob storage?</span></span>

<span data-ttu-id="d5b00-115">O armazenamento de Blobs do Azure é uma solução de armazenamento de objetos concebida para armazenar grandes quantidades de dados não estruturados.</span><span class="sxs-lookup"><span data-stu-id="d5b00-115">Azure Blob storage is an object storage solution that's designed to store large amounts of unstructured data.</span></span> 

<span data-ttu-id="d5b00-116">Por exemplo, o armazenamento de Blobs do Azure é melhor para fazer coisas como:</span><span class="sxs-lookup"><span data-stu-id="d5b00-116">For example, Azure Blob storage is great at doing things like:</span></span>

- <span data-ttu-id="d5b00-117">A armazenar ficheiros.</span><span class="sxs-lookup"><span data-stu-id="d5b00-117">Storing files.</span></span>
- <span data-ttu-id="d5b00-118">A servir ficheiros.</span><span class="sxs-lookup"><span data-stu-id="d5b00-118">Serving files.</span></span>
- <span data-ttu-id="d5b00-119">Transmissão de áudio e vídeo.</span><span class="sxs-lookup"><span data-stu-id="d5b00-119">Streaming video and audio.</span></span>
- <span data-ttu-id="d5b00-120">A registar dados.</span><span class="sxs-lookup"><span data-stu-id="d5b00-120">Logging data.</span></span>

<span data-ttu-id="d5b00-121">Existem três tipos de blobs: **blobs de blocos**, **blobs de acréscimo** e **blobs de páginas**.</span><span class="sxs-lookup"><span data-stu-id="d5b00-121">There are three types of blobs: **block blobs**, **append blobs**, and **page blobs**.</span></span> <span data-ttu-id="d5b00-122">Os blobs de blocos são o tipo mais frequentemente utilizado.</span><span class="sxs-lookup"><span data-stu-id="d5b00-122">Block blobs are the most common type.</span></span> <span data-ttu-id="d5b00-123">Permitem-lhe armazenar texto ou dados binários de forma eficiente.</span><span class="sxs-lookup"><span data-stu-id="d5b00-123">They allow you to store text or binary data efficiently.</span></span> <span data-ttu-id="d5b00-124">Acrescentar blobs é como blobs de blocos, mas são concebidos para as operações de acrescento, como criar um ficheiro de registo que esteja a ser constantemente atualizado.</span><span class="sxs-lookup"><span data-stu-id="d5b00-124">Append blobs are like block blobs, but they're designed more for append operations like creating a log file that's being constantly updated.</span></span> <span data-ttu-id="d5b00-125">Por fim, os blobs de páginas são constituídos por páginas e são concebidos para operações frequentes aleatórios de escrita e leitura.</span><span class="sxs-lookup"><span data-stu-id="d5b00-125">Finally, page blobs are made up of pages and are designed for frequent random read and write operations.</span></span>

## <a name="what-is-a-blob-trigger"></a><span data-ttu-id="d5b00-126">O que é um acionador de blob?</span><span class="sxs-lookup"><span data-stu-id="d5b00-126">What is a blob trigger?</span></span>

<span data-ttu-id="d5b00-127">Um acionador de blob é um acionador que executa uma função quando um ficheiro é carregado ou atualizado no Armazenamento de blobs do Azure.</span><span class="sxs-lookup"><span data-stu-id="d5b00-127">A blob trigger is a trigger that executes a function when a file is uploaded or updated in Azure Blob storage.</span></span> <span data-ttu-id="d5b00-128">Para criar um acionador de blob, cria uma conta do Armazenamento do Azure e fornece uma localização que o acionador monitoriza.</span><span class="sxs-lookup"><span data-stu-id="d5b00-128">To create a blob trigger, you create an Azure Storage account and provide a location that the trigger monitors.</span></span>

## <a name="how-to-create-a-blob-trigger"></a><span data-ttu-id="d5b00-129">Como criar um acionador de blobs</span><span class="sxs-lookup"><span data-stu-id="d5b00-129">How to create a blob trigger</span></span>

<span data-ttu-id="d5b00-130">Tal como os outros acionadores que temos visto, vamos criar um acionador de blobs no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="d5b00-130">Just like the other triggers we've seen so far, we create a blob trigger in the Azure portal.</span></span> <span data-ttu-id="d5b00-131">Dentro da sua função do Azure, selecione **acionador de Blob** na lista de tipos de acionadores predefinidos.</span><span class="sxs-lookup"><span data-stu-id="d5b00-131">Inside your Azure function, select **Blob trigger** from the list of predefined trigger types.</span></span> <span data-ttu-id="d5b00-132">Então introduza a lógica para executar quando é criado ou atualizado um blob.</span><span class="sxs-lookup"><span data-stu-id="d5b00-132">Then enter the logic to execute when a blob is created or updated.</span></span>

<span data-ttu-id="d5b00-133">Uma configuração que vai querer ver é o **Path**.</span><span class="sxs-lookup"><span data-stu-id="d5b00-133">One setting that you'll want to look at is the **Path**.</span></span> <span data-ttu-id="d5b00-134">O **Path** diz ao acionar de blob onde monitorizar para ver se um blob é carregado ou atualizado.</span><span class="sxs-lookup"><span data-stu-id="d5b00-134">The **Path** tells the blob trigger where to monitor to see if a blob is uploaded or updated.</span></span> <span data-ttu-id="d5b00-135">Por predefinição, o valor **Path** é:</span><span class="sxs-lookup"><span data-stu-id="d5b00-135">By default, the **Path** value is:</span></span> 

> <span data-ttu-id="d5b00-136">samples-workitems/{name}</span><span class="sxs-lookup"><span data-stu-id="d5b00-136">samples-workitems/{name}</span></span>

<span data-ttu-id="d5b00-137">Vamos dividir este conceito em duas partes: *samples-workitems* e *{name}*.</span><span class="sxs-lookup"><span data-stu-id="d5b00-137">Let's break down this concept into two pieces: *samples-workitems* and *{name}*.</span></span> <span data-ttu-id="d5b00-138">A primeira parte *samples-workitems*, representa o contentor de blobs que o acionador monitoriza.</span><span class="sxs-lookup"><span data-stu-id="d5b00-138">The first part, *samples-workitems*, represents the blob container that the trigger monitors.</span></span> <span data-ttu-id="d5b00-139">A segunda parte, *{name}*, significa que cada tipo de ficheiro vai fazer com que o acionador invoque a função.</span><span class="sxs-lookup"><span data-stu-id="d5b00-139">The second part, *{name}*, means that every type of file will cause the trigger to invoke the function.</span></span> <span data-ttu-id="d5b00-140">A função é invocada porque não há filtro.</span><span class="sxs-lookup"><span data-stu-id="d5b00-140">The function is invoked because there's no filter.</span></span> <span data-ttu-id="d5b00-141">Por exemplo, posso fazer o acionador invocar a função apenas quando um ficheiro PNG é adicionado, ao utilizar sintaxe como:</span><span class="sxs-lookup"><span data-stu-id="d5b00-141">For example, I could make the trigger invoke the function only when a PNG file is added by using syntax like:</span></span>

> <span data-ttu-id="d5b00-142">samples-workitems/{nome}.png</span><span class="sxs-lookup"><span data-stu-id="d5b00-142">samples-workitems/{name}.png</span></span>

<span data-ttu-id="d5b00-143">A última parte significante das informações com este conceito é o texto *nome*.</span><span class="sxs-lookup"><span data-stu-id="d5b00-143">The last significant piece of information with this concept is the text *name*.</span></span> <span data-ttu-id="d5b00-144">O *nome* representa um parâmetro na sua função do Azure que recebe o nome do ficheiro adicionado.</span><span class="sxs-lookup"><span data-stu-id="d5b00-144">The *name* represents a parameter in your Azure function that receives the name of the added file.</span></span> <span data-ttu-id="d5b00-145">Por exemplo, se eu carregar um ficheiro chamado *resume.txt*, a minha função do Azure recebe esse valor como uma cadeia de carateres através de um parâmetro chamado *nome*.</span><span class="sxs-lookup"><span data-stu-id="d5b00-145">For example, if I upload a file named *resume.txt*, my Azure function receives that value as a string through a parameter called *name*.</span></span>

## <a name="summary"></a><span data-ttu-id="d5b00-146">Resumo</span><span class="sxs-lookup"><span data-stu-id="d5b00-146">Summary</span></span>

<span data-ttu-id="d5b00-147">Um acionador de blob invoca uma função do Azure quando vê atividade numa determinada localização na sua conta do blob do Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="d5b00-147">A blob trigger invokes an Azure function when it sees activity at a specific location in your Azure Storage blob account.</span></span> <span data-ttu-id="d5b00-148">Define a localização para monitorizar ao modificar o valor **Path** no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="d5b00-148">You set the location to monitor by modifying the **Path** value in the Azure portal.</span></span>
